<!DOCTYPE html>
<html>
<body>

<button onclick="setTest()" type="button">Test Func</button>
<button onclick="getPlaySpeed()" type="button">playback speed</button>
<button onclick="getTime()" type="button">video time</button><br>

<video id="myVideo" width="320" height="176" controls>
 <!-- <source src="http://asmaabdelkarim.com/images/TCP_Wednesday_29_4_Part-2.mp4" type="video/mp4"> -->
    <source src="clip2.mp4" type="video/mp4">
error
</video>

<script>
var vid = document.getElementById("myVideo");

function getPlaySpeed() {
  alert(vid.playbackRate);
}

function setTest() {
  vid.playbackRate = 3;

  if (vid.currentTime==50) {
  vid.playbackRate = 0.5;
  }
}

function getTime() {
  alert(vid.currentTime);
}

var Stamps = [0, 0.21, 2.1, 4.98, 7.71, 10.8, 12.599, 23.13, 25.74, 55.02, 58.829, 62.16, 65.339, 73.02, 76.02, 80.07, 83.07, 88.4, 91.799, 95.06, 100.43, 103.59];
var Speed  = [1, 0.8099999999999999, 1.2342857142857144, 1.0237499999999997, 1.3242857142857147, 0.6746249999999998, 10.530999999999999, 1.1185714285714283, 10.980000000000002, 1.428374999999999, 1.665499999999998, 1.1921250000000008, 3.291857142857142, 1.2857142857142858, 1.518749999999999, 1.0, 1.9987500000000047, 1.6995000000000005, 1.2228749999999984, 2.0137500000000017, 1.895999999999998]
var i = 0;

var test = 0;
var interval;

function check_test() {
console.log( vid.currentTime );
    if(vid.currentTime >= Stamps[i] && vid.currentTime < Stamps[i+1]){
		vid.playbackRate = Speed[i];
        console.log( "Time now: " + Stamps[i] + "Speed: " + Speed[i]);
		i = i + 1;
    }
}

interval = window.setInterval( check_test, 1 );

</script>

</body>
</html>
